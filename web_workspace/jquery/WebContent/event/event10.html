<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style type="text/css">
	img {
		width: 200px;
		height: 200px;
	}
</style>
</head>
<body>
	<h1>무한 스크롤</h1>
	
	<div id="image-box">
		<img src="../resources/images/1.jpg">
		<img src="../resources/images/2.jpg">
		<img src="../resources/images/3.jpg">
		<img src="../resources/images/4.jpg">
		<img src="../resources/images/5.jpg">
		<img src="../resources/images/6.jpg">
		<img src="../resources/images/7.jpg">
		<img src="../resources/images/8.jpg">
	</div>
	
<script type="text/javascript" src="../resources/js/jquery/jquery-3.5.1.min.js" ></script>
<script type="text/javascript">
	var images = ["1.jpg", "2.jpg", "3.jpg", "4.jpg", "5.jpg", "6.jpg", "7.jpg", "8.jpg"];
	var $imagebox = $("#image-box")
	var windowHeight = $(window).height();
	var documentHeight = $(document).height();
	
	$(window).scroll(function() {
		// window, document객체는 브라우저객체이므로 jQuery객체화 시킨 후 jQuery메소드를 사용할 수 있다.
		var scrollTop = $(window).scrollTop();

		if (windowHeight + scrollTop + 50 > documentHeight) {
			for (var i=0; i<images.length; i++) {
				$imagebox.append("<img src='../resources/images/"+images[i]+"'> ");
			}
			documentHeight = $(document).height();
		}
		
		console.log("문서높이", documentHeight, "창높이", windowHeight, "스크롤높이", scrollTop);
	});
</script>
	
</body>
</html>