<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style type="text/css">
	div.content {
		margin-bottom: 15px;
		border: 1px solid #bbb;
		padding: 10px;
		cursor: pointer;
	}
	
	div.content.highlight {
		border: 2px solid red;
	}
</style>
</head>
<body>
	<h1>조상 엘리먼트 검색하기</h1>
	
	<div class="box">
		<div class="content" id="item-100">
			<h3>프리미엄 요금제 <button data-item-no="100">선택</button></h3>
			<div class="description">
				<h4>요금제 내용</h4>
				<ul>
					<li>이용요금 : 100,000원</li>
					<li>부가서비스 : 무료영화, 무료와이파이, 무료쿠폰</li>
					<li>제공통신사 : KT, LG, SK</li>
					<li>약정기간 : 10년</li>
				</ul>
			</div>
		</div>
		<div class="content" id="item-200">
			<h3>VVIP 요금제<button data-item-no="200">선택</button></h3>
			<div class="description">
				<h4>요금제 내용</h4>
				<ul>
					<li>이용요금 : 100,000원</li>
					<li>부가서비스 : 무료영화, 무료와이파이, 무료쿠폰, 무료 해외여행</li>
					<li>제공통신사 : KT, LG, SK</li>
					<li>약정기간 : 10년</li>
				</ul>
			</div>
		</div>
		<div class="content" id="item-300">
			<h3>VVIP 슈퍼 프리미엄 요금제<button data-item-no="300">선택</button></h3>
			<div class="description">
				<h4>요금제 내용</h4>
				<ul>
					<li>이용요금 : 100,000원</li>
					<li>부가서비스 : 무료영화, 무료와이파이, 무료쿠폰, 무료 해외여행, 무료 항공권, 골프 회원권</li>
					<li>제공통신사 : KT, LG, SK</li>
					<li>약정기간 : 10년</li>
				</ul>
			</div>
		</div>
	</div>
	
<script type="text/javascript" src="../resources/js/jquery/jquery-3.5.1.min.js" ></script>
<script type="text/javascript">
$(function() {
	$(".box .content h3 button").click(function() {
		$(".box .content").removeClass("highlight");
		
		/*
		아이디를 기반으로 조상 엘리먼트를 제어하기
		var itemNo = $(this).data("item-no")
		$(".box .content#item-" + itemNo).addClass("highlight");
		*/
		
		// 사용 X
		// parent() 부모엘리먼트 검색 메소드를 사용해서 조상 엘리먼트 제어하기
		// $(this).parent().parent().addClass("highlight");
		
		// parents() 조상 엘리먼트 검색 메소드를 사용해서 지정된 선택자표현식에
		// 해당하는 조상엘리먼트를 제어하기
		// 구체적인 제어대상이 명시되어있으므로 .parent().parent()보다 훨씬 좋다.
		// 이벤트가 발생한 엘리먼트jQuery객체의 조상중에서 class가 content인 조상을 찾는다.
		// $(this).parents(".content").addClass("highlight");
		
		// closest(선택자) 가장 가까운 조상 엘리먼트 검색 메소드를 사용해서
		// 지정된 선택자 표현식에 해당하는 조상엘리먼트를 제어하기
		$(this).closest("div").addClass("highlight");
		
	})
	
	// 이벤트를 발생시키는 엘리먼트는 제어대상이 되는 엘리먼트의 정보를 가지고 있어야한다, 가지고있으면 제어하기가 훨씬 쉬워진다.
	// id, data 등 공통적인 값을 주도록 고민해보자.
	// ex) 이벤트가 발생할 버튼에 itemNo를 사용할 수 있는 공통적인 값이 들어가있어야한다.
	// 	   button data-item-no="300", id="item-300";
})
</script>

</body>
</html>